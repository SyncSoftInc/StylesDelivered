function DeleteReview(n){bootbox.confirm("Delete Review?",function(t){t&&axios.delete(`/api/admin/review/${n}`,{data:{ID:n}}).then(function(n){var t=n.data;$.isSuccess(t)?mainTable.ajax.reload():bootbox.alert(t)})})}function ApproveReview(n){axios.patch("/api/admin/review",{ID:n}).then(function(n){var t=n.data;$.isSuccess(t)?bootbox.alert("Success.",function(){mainTable.ajax.reload()}):bootbox.alert(t)})}var mainTable;$(function(){mainTable=$("#mainTable").DataTable({responsive:!0,serverSide:!0,searchDelay:500,lengthMenu:[10,15,20],ajax:{url:"/api/admin/reviews"},columns:[{data:"orderNo"},{data:"sku"},{data:"user"},{data:"title"},{data:"status",width:30,render:function(n){if(!$.isNW(n))return $.enumToName(ReviewStatusEnum,n)}},{data:"createdOnUtc",width:150,render:function(n){return $.timeFormat(n)}},{width:210,orderable:!1,render:function(n,t,i){var r=i.status===ReviewStatusEnum.Approved?"disabled":"";return`<button class="btn btn-sm btn-primary" type="button" style="width:70px;" onclick="ApproveReview('${i.id}')" ${r}>Approve</button>`+`<a class="btn btn-sm btn-info mr-2 ml-2" href="/admin/review/Detail/${i.id}">Detail</a>`+`<button class="btn btn-sm btn-danger" type="button" onclick="DeleteReview('${i.id}')" ${r}>Delete</button>`}}],columnDefs:[{className:"text-center",targets:[-1]}],order:[[6,"DESC"]]})});