function DeleteOrder(n){bootbox.confirm("Delete product?",function(t){t&&axios.delete(`/api/admin/order/${n}`,{data:{OrderNo:n}}).then(function(n){var t=n.data;$.isSuccess(t)?mainTable.ajax.reload():bootbox.alert(t)})})}function ChangeOrder(n,t){var i;if(n==="Approve")i="put";else if(n==="Ship")i="patch";else return;axios({method:i,url:"/api/admin/order/"+t}).then(function(n){var t=n.data;$.isSuccess(t)?bootbox.alert("Success.",function(){mainTable.ajax.reload()}):bootbox.alert(t)})}var mainTable;$(function(){mainTable=$("#mainTable").DataTable({responsive:!0,serverSide:!0,searchDelay:500,lengthMenu:[10,15,20],ajax:{url:"/api/admin/orders"},columns:[{width:50,orderable:!1,render:function(n,t,i){return'<img src="'+$.pic(i.imageUrl)+'" class="pic_s" />'}},{data:"user"},{data:"asin"},{data:"sku"},{data:"alias"},{data:"status",width:30,render:function(n){if(!$.isNW(n))return $.enumToName(OrderStatusEnum,n)}},{data:"createdOnUtc",width:150,render:function(n){return $.timeFormat(n)}},{width:210,orderable:!1,render:function(n,t,i){var u="",r="";return i.status===OrderStatusEnum.Pending?r="Approve":i.status===OrderStatusEnum.Approved?r="Ship":i.status===OrderStatusEnum.Shipped&&(u="disabled",r="Shipped"),`<button class="btn btn-sm btn-primary" type="button" style="width:70px;" onclick="ChangeOrder('${r}', '${i.orderNo}')" ${u}>${r}</button>`+`<a class="btn btn-sm btn-info mr-2 ml-2" href="/admin/order/Detail/${i.orderNo}">Detail</a>`+`<button class="btn btn-sm btn-danger" type="button" onclick="DeleteOrder('${i.orderNo}')" ${u}>Delete</button>`}}],columnDefs:[{className:"text-center align-middle",targets:[-1,0]},{className:"align-middle",targets:"_all"}],order:[[6,"DESC"]]})});