function DeleteProduct(n){bootbox.confirm("Delete product?",function(t){t&&$.ajax({url:"/api/admin/product/"+n,type:"DELETE",success:function(n){$.isSuccess(n)?mainTable.ajax.reload():bootbox.alert(n)}})})}function UpdateProductStatus(n,t){$.ajax({url:"/api/admin/product",data:{asin:n,status:t},type:"PATCH",success:function(n){$.isSuccess(n)?mainTable.ajax.reload():bootbox.alert(n)}})}var mainTable;$(function(){mainTable=$("#mainTable").DataTable({responsive:!0,serverSide:!0,searchDelay:500,lengthMenu:[5,10,25],ajax:{url:"/api/admin/products"},columns:[{width:50,orderable:!1,render:function(n,t,i){return'<img src="'+$.pic(i.imageUrl)+'" class="pic_s" />'}},{data:"asin"},{data:"productName"},{data:"status",width:30,orderable:!1},{data:"createdOnUtc",width:150,render:function(n){return $.timeFormat(n)}},{width:210,orderable:!1,render:function(n,t,i){var r;return r=i.status===1?'<button style="width:80px;" type="button" class="btn btn-sm btn-secondary" onclick="UpdateProductStatus(\''+i.asin+"', 0)\">Deactivate<\/button>":'<button style="width:80px;" type="button" class="btn btn-sm btn-secondary" onclick="UpdateProductStatus(\''+i.asin+"', 1)\">Activate<\/button>",r+('<a class="btn btn-sm btn-primary ml-2 mr-2" href="/admin/product/Save/'+i.asin+'">Edit<\/a><button class="delBtn btn btn-sm btn-danger" type="button" onclick="DeleteProduct(\''+i.asin+"')\">Delete<\/button>")}}],columnDefs:[{className:"text-center align-middle",targets:[-1,0,3]},{className:"align-middle",targets:"_all"}],order:[[2,"DESC"]]})});