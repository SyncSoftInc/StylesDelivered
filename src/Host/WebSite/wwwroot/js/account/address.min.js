var addressVM=new Vue({el:"#app",data:{addresses:[],states:[],address:{}},methods:{loadAddresses:function(){var n=this;axios.get("/api/user/addresses").then(function(t){var i=t.data;n.addresses=i})},loadStates:function(){var n=this;axios.get("/api/states/us").then(function(t){var i=t.data;n.states=i})},save:function(){var n=this;axios.post("/api/user/address",{Address:n.address}).then(function(t){var i=t.data;$.isSuccess(i)?($("#editor").modal("hide"),n.loadAddresses()):bootbox.alert(i)})},remove:function(n){var t=this;bootbox.confirm("Delete this address?",function(i){i&&axios.delete("/api/user/address",{data:{Address:{Hash:n}}}).then(function(n){var i=n.data;$.isSuccess(i)?t.loadAddresses():bootbox.alert(i)})})}},beforeMount:function(){var n=this;n.loadStates();n.loadAddresses()}});$(function(){$("#editor").on("show.bs.modal",function(){addressVM.address={State:""}})});