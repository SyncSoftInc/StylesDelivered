var homeVM=new Vue({el:"#app",data:{pageSize:9,pageIndex:1,totalPage:1,items:[]},methods:{loadData:function(){var n=this,t=(n.pageIndex-1)*n.pageSize;return $.get("/api/product/items?length="+n.pageSize+"&start="+t,function(t){n.totalPage=t.totalPage;$.each(t.data,function(n,t){t.imageUrl=$.pic(t.imageUrl)});n.items=n.items.concat(t.data)})},scroll:function(){var n=this;let t=!1;window.onscroll=()=>{let i=$.getScrollTop()+$.getWindowHeight()===$.getScrollHeight();i&&!t&&n.pageIndex<n.totalPage&&(t=!0,n.pageIndex++,n.loadData().done(function(){t=!1}))}}},beforeMount:function(){var n=this;n.loadData()},mounted:function(){var n=this;n.scroll()}});