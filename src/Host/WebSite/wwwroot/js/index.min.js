var homeVM=new Vue({el:"#app",data:{pageSize:9,pageIndex:1,totalPage:1,items:[]},methods:{loadData:function(){var n=this,t=(n.pageIndex-1)*n.pageSize;return axios.get("/api/products?length="+n.pageSize+"&start="+t).then(function(t){var i=t.data,r;n.totalPage=i.totalPage;for(r in i.data)r.imageUrl=$.pic(r.imageUrl);n.items=n.items.concat(i.data)})},scroll:function(){var n=this;let t=!1;window.onscroll=()=>{let i=$.getScrollTop()+$.getWindowHeight()===$.getScrollHeight();i&&!t&&n.pageIndex<n.totalPage&&(t=!0,n.pageIndex++,n.loadData().then(function(){t=!1}))}}},beforeMount:function(){var n=this;n.loadData()},mounted:function(){var n=this;n.scroll()}}),applyVM=new Vue({el:"#addressModal",data:{asin:"",sku:"",addresses:[],states:[],address:{shipping_Address1:"",shipping_Address2:"",shipping_City:"",shipping_State:"",shipping_ZipCode:"",shipping_Country:"US"}},methods:{loadAddresses:function(){var n=this;axios.get("/api/user/addresses").then(function(t){n.addresses=t.data})},loadStates:function(){var n=this;axios.get("/api/states/us").then(function(t){n.states=t.data})},select:function(n){var t=this;t.address.shipping_Address1=n.address1;t.address.shipping_Address2=n.address2;t.address.shipping_City=n.city;t.address.shipping_State=n.state;t.address.shipping_ZipCode=n.zipCode;t.address.shipping_Country=n.country},apply:function(){var n=this,t={items:[{asin:n.asin,sku:n.sku}],shipping_Address1:n.address.shipping_Address1,shipping_Address2:n.address.shipping_Address2,shipping_City:n.address.shipping_City,shipping_State:n.address.shipping_State,shipping_ZipCode:n.address.shipping_ZipCode,shipping_Country:n.address.shipping_Country};axios.put("/api/order",{Order:t}).then(function(n){var t=n.data;$.isSuccess(t)?bootbox.alert("Success"):bootbox.alert(t)})},clear:function(){var n=this;n.address.shipping_Address1="";n.address.shipping_Address2="";n.address.shipping_City="";n.address.shipping_State="";n.address.shipping_ZipCode="";n.address.shipping_Country="US"}},beforeMount:function(){var n=this;n.loadStates();n.loadAddresses()}});